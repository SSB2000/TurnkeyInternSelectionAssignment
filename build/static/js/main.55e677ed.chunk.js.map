{"version":3,"sources":["Components/Notification.js","Components/loginForm.js","services/login.js","App.js","index.js"],"names":["Notification","message","type","className","loginForm","props","onSubmit","handleLogin","value","username","name","onChange","target","setUsername","password","setPassword","login","credentials","a","axios","post","response","data","App","useState","setMessage","messageType","setMessageType","user","setUser","useEffect","loggedUserJSON","window","localStorage","getItem","JSON","parse","event","preventDefault","loginService","setItem","stringify","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6MAEe,SAASA,EAAT,GAAwC,IAAjBC,EAAgB,EAAhBA,QAASC,EAAO,EAAPA,KAC9C,OACC,qBACCC,UAAWD,EADZ,SAGCD,ICLY,SAASG,EAAUC,GAC9B,OACI,uBAAMC,SAAUD,EAAME,YAAtB,UACI,2CAEI,uBACIL,KAAK,OACLM,MAAOH,EAAMI,SACbC,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBP,EAAMQ,YAAYD,EAAOJ,aAG3D,2CAEI,uBACIN,KAAK,WACLM,MAAOH,EAAMS,SACbJ,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBP,EAAMU,YAAYH,EAAOJ,aAG3D,wBAAQN,KAAK,SAAb,sB,qBCfG,GAAEc,MALN,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACaC,IAAMC,KAHjB,aAG+BH,GADjC,cACJI,EADI,yBAEHA,EAASC,MAFN,2CAAH,uDC0FIC,EAvFH,WACR,MAA8BC,mBAAS,IAAvC,mBAAOvB,EAAP,KAAgBwB,EAAhB,KACA,EAAsCD,mBAAS,IAA/C,mBAAOE,EAAP,KAAoBC,EAApB,KACA,EAAgCH,mBAAS,IAAzC,mBAAOf,EAAP,KAAiBI,EAAjB,KACA,EAAgCW,mBAAS,IAAzC,mBAAOV,EAAP,KAAiBC,EAAjB,KACA,EAAwBS,mBAAS,MAAjC,mBAAOI,EAAP,KAAaC,EAAb,KAEAC,qBAAU,WACN,IAAMC,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAChB,IAAMH,EAAOO,KAAKC,MAAML,GACxBF,EAAQD,MAEb,IAEH,IAAMrB,EAAW,uCAAG,WAAO8B,GAAP,eAAAnB,EAAA,6DAChBmB,EAAMC,iBADU,kBAGOC,EAAavB,MAAM,CAClCP,WACAK,aALQ,OAGNc,EAHM,OAOZI,OAAOC,aAAaO,QAChB,oBACAL,KAAKM,UAAUb,IAEnBC,EAAQD,GACRf,EAAY,IACZE,EAAY,IAbA,kDAeZU,EAAW,qBACXE,EAAe,WACfe,YAAW,WACPjB,EAAW,MACXE,EAAe,QAChB,KApBS,0DAAH,sDAkDjB,OACI,gCACI,uCACA,cAAC3B,EAAD,CAAcC,QAASA,EAASC,KAAMwB,IAE5B,OAATE,EACG,cAAC,EAAD,CACIrB,YAAaA,EACbE,SAAUA,EACVI,YAAaA,EACbC,SAAUA,EACVC,YAAaA,IAGjB,8BACI,8BAAIa,EAAKlB,KAAT,sBClFpBiC,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.55e677ed.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Notification({message, type}) {\r\n\treturn (\r\n\t\t<div \r\n\t\t\tclassName={type}\r\n\t\t>\r\n\t\t{message}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function loginForm(props) {\r\n    return (\r\n        <form onSubmit={props.handleLogin}>\r\n            <div>\r\n                username\r\n                <input\r\n                    type=\"text\"\r\n                    value={props.username}\r\n                    name=\"Username\"\r\n                    onChange={({ target }) => props.setUsername(target.value)}\r\n                />\r\n            </div>\r\n            <div>\r\n                password\r\n                <input\r\n                    type=\"password\"\r\n                    value={props.password}\r\n                    name=\"Password\"\r\n                    onChange={({ target }) => props.setPassword(target.value)}\r\n                />\r\n            </div>\r\n            <button type=\"submit\">login</button>\r\n        </form>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/login\";\r\n\r\nconst login = async (credentials) => {\r\n    const response = await axios.post(baseUrl, credentials);\r\n    return response.data;\r\n};\r\n\r\nexport default { login };\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport Notification from \"./Components/Notification\";\nimport LoginForm from \"./Components/loginForm\";\n\nimport loginService from \"./services/login\";\nconst App = () => {\n    const [message, setMessage] = useState(\"\");\n    const [messageType, setMessageType] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        const loggedUserJSON = window.localStorage.getItem(\"loggedNoteappUser\");\n        if (loggedUserJSON) {\n            const user = JSON.parse(loggedUserJSON);\n            setUser(user);\n        }\n    }, []);\n\n    const handleLogin = async (event) => {\n        event.preventDefault();\n        try {\n            const user = await loginService.login({\n                username,\n                password,\n            });\n            window.localStorage.setItem(\n                \"loggedNoteappUser\",\n                JSON.stringify(user)\n            );\n            setUser(user);\n            setUsername(\"\");\n            setPassword(\"\");\n        } catch (exception) {\n            setMessage(\"Wrong credentials\");\n            setMessageType(\"success\");\n            setTimeout(() => {\n                setMessage(null);\n                setMessageType(null);\n            }, 5000);\n        }\n    };\n    /*\n    const loginForm = () => {\n        return (\n            <form onSubmit={handleLogin}>\n                <div>\n                    username\n                    <input\n                        type=\"text\"\n                        value={username}\n                        name=\"Username\"\n                        onChange={({ target }) => setUsername(target.value)}\n                    />\n                </div>\n                <div>\n                    password\n                    <input\n                        type=\"password\"\n                        value={password}\n                        name=\"Password\"\n                        onChange={({ target }) => setPassword(target.value)}\n                    />\n                </div>\n                <button type=\"submit\">login</button>\n            </form>\n        );\n    };\n    */\n    return (\n        <div>\n            <h1>Hello</h1>\n            <Notification message={message} type={messageType} />\n            {/* <Search persons={persons} /> */}\n            {user === null ? (\n                <LoginForm\n                    handleLogin={handleLogin}\n                    username={username}\n                    setUsername={setUsername}\n                    password={password}\n                    setPassword={setPassword}\n                />\n            ) : (\n                <div>\n                    <p>{user.name} logged-in</p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}